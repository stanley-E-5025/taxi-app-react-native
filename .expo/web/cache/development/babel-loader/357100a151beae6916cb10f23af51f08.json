{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.GooglePlacesAutocomplete = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.debounce\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _qs = _interopRequireDefault(require(\"qs\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Stanley\\\\Desktop\\\\AwesomeProject\\\\node_modules\\\\react-native-google-places-autocomplete\\\\GooglePlacesAutocomplete.js\";\n\nvar defaultStyles = {\n  container: {\n    flex: 1\n  },\n  textInputContainer: {\n    flexDirection: 'row'\n  },\n  textInput: {\n    backgroundColor: '#FFFFFF',\n    height: 44,\n    borderRadius: 5,\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    fontSize: 15,\n    flex: 1,\n    marginBottom: 5\n  },\n  listView: {},\n  row: {\n    backgroundColor: '#FFFFFF',\n    padding: 13,\n    minHeight: 44,\n    flexDirection: 'row'\n  },\n  loader: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    height: 20\n  },\n  description: {},\n  separator: {\n    height: 0.5,\n    backgroundColor: '#c8c7cc'\n  },\n  poweredContainer: {\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    borderBottomRightRadius: 5,\n    borderBottomLeftRadius: 5,\n    borderColor: '#c8c7cc',\n    borderTopWidth: 0.5\n  },\n  powered: {}\n};\nvar GooglePlacesAutocomplete = (0, _react.forwardRef)(function (props, ref) {\n  var _results = [];\n  var _requests = [];\n\n  var hasNavigator = function hasNavigator() {\n    var _navigator;\n\n    if ((_navigator = navigator) != null && _navigator.geolocation) {\n      return true;\n    } else {\n      console.warn('If you are using React Native v0.60.0+ you must follow these instructions to enable currentLocation: https://git.io/Jf4AR');\n      return false;\n    }\n  };\n\n  var buildRowsFromResults = function buildRowsFromResults(results) {\n    var res = [];\n\n    if (results.length === 0 || props.predefinedPlacesAlwaysVisible === true) {\n      res = (0, _toConsumableArray2.default)(props.predefinedPlaces.filter(function (place) {\n        return place == null ? void 0 : place.description.length;\n      }));\n\n      if (props.currentLocation === true && hasNavigator()) {\n        res.unshift({\n          description: props.currentLocationLabel,\n          isCurrentLocation: true\n        });\n      }\n    }\n\n    res = res.map(function (place) {\n      return (0, _extends2.default)({}, place, {\n        isPredefinedPlace: true\n      });\n    });\n    return [].concat((0, _toConsumableArray2.default)(res), (0, _toConsumableArray2.default)(results));\n  };\n\n  var getRequestUrl = function getRequestUrl(requestUrl) {\n    if (requestUrl) {\n      if (requestUrl.useOnPlatform === 'all') {\n        return requestUrl.url;\n      }\n\n      if (requestUrl.useOnPlatform === 'web') {\n        return _reactNative.Platform.select({\n          web: requestUrl.url,\n          default: 'https://maps.googleapis.com/maps/api'\n        });\n      }\n    } else {\n      return 'https://maps.googleapis.com/maps/api';\n    }\n  };\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      stateText = _useState2[0],\n      setStateText = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(buildRowsFromResults([])),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      dataSource = _useState4[0],\n      setDataSource = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(props.listViewDisplayed === 'auto' ? false : props.listViewDisplayed),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      listViewDisplayed = _useState6[0],\n      setListViewDisplayed = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(getRequestUrl(props.requestUrl)),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 1),\n      url = _useState8[0];\n\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    _handleChangeText(stateText);\n\n    return function () {\n      _abortRequests();\n    };\n  }, []);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      setAddressText: function setAddressText(address) {\n        setStateText(address);\n      },\n      getAddressText: function getAddressText() {\n        return stateText;\n      },\n      blur: function blur() {\n        return inputRef.current.blur();\n      },\n      focus: function focus() {\n        return inputRef.current.focus();\n      },\n      isFocused: function isFocused() {\n        return inputRef.current.isFocused();\n      },\n      clear: function clear() {\n        return inputRef.current.clear();\n      }\n    };\n  });\n\n  var requestShouldUseWithCredentials = function requestShouldUseWithCredentials() {\n    return url === 'https://maps.googleapis.com/maps/api';\n  };\n\n  var _abortRequests = function _abortRequests() {\n    _requests.map(function (i) {\n      return i.abort();\n    });\n\n    _requests = [];\n  };\n\n  var supportedPlatform = function supportedPlatform() {\n    if (_reactNative.Platform.OS === 'web' && !props.requestUrl) {\n      console.warn('This library cannot be used for the web unless you specify the requestUrl prop. See https://git.io/JflFv for more for details.');\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  var getCurrentLocation = function getCurrentLocation() {\n    var options = {\n      enableHighAccuracy: false,\n      timeout: 20000,\n      maximumAge: 1000\n    };\n\n    if (props.enableHighAccuracyLocation && _reactNative.Platform.OS === 'android') {\n      options = {\n        enableHighAccuracy: true,\n        timeout: 20000\n      };\n    }\n\n    var getCurrentPosition = navigator.geolocation.getCurrentPosition || navigator.geolocation.default.getCurrentPosition;\n    getCurrentPosition && getCurrentPosition(function (position) {\n      if (props.nearbyPlacesAPI === 'None') {\n        var currentLocation = {\n          description: props.currentLocationLabel,\n          geometry: {\n            location: {\n              lat: position.coords.latitude,\n              lng: position.coords.longitude\n            }\n          }\n        };\n\n        _disableRowLoaders();\n\n        props.onPress(currentLocation, currentLocation);\n      } else {\n        _requestNearby(position.coords.latitude, position.coords.longitude);\n      }\n    }, function (error) {\n      _disableRowLoaders();\n\n      console.error(error.message);\n    }, options);\n  };\n\n  var _onPress = function _onPress(rowData) {\n    if (rowData.isPredefinedPlace !== true && props.fetchDetails === true) {\n      if (rowData.isLoading === true) {\n        return;\n      }\n\n      _reactNative.Keyboard.dismiss();\n\n      _abortRequests();\n\n      _enableRowLoader(rowData);\n\n      var request = new XMLHttpRequest();\n\n      _requests.push(request);\n\n      request.timeout = props.timeout;\n      request.ontimeout = props.onTimeout;\n\n      request.onreadystatechange = function () {\n        if (request.readyState !== 4) return;\n\n        if (request.status === 200) {\n          var responseJSON = JSON.parse(request.responseText);\n\n          if (responseJSON.status === 'OK') {\n            var details = responseJSON.result;\n\n            _disableRowLoaders();\n\n            _onBlur();\n\n            setStateText(_renderDescription(rowData));\n            delete rowData.isLoading;\n            props.onPress(rowData, details);\n          } else {\n            _disableRowLoaders();\n\n            if (props.autoFillOnNotFound) {\n              setStateText(_renderDescription(rowData));\n              delete rowData.isLoading;\n            }\n\n            if (!props.onNotFound) {\n              console.warn('google places autocomplete: ' + responseJSON.status);\n            } else {\n              props.onNotFound(responseJSON);\n            }\n          }\n        } else {\n          _disableRowLoaders();\n\n          if (!props.onFail) {\n            console.warn('google places autocomplete: request could not be completed or has been aborted');\n          } else {\n            props.onFail('request could not be completed or has been aborted');\n          }\n        }\n      };\n\n      request.open('GET', url + \"/place/details/json?\" + _qs.default.stringify((0, _extends2.default)({\n        key: props.query.key,\n        placeid: rowData.place_id,\n        language: props.query.language\n      }, props.GooglePlacesDetailsQuery)));\n      request.withCredentials = requestShouldUseWithCredentials();\n      request.send();\n    } else if (rowData.isCurrentLocation === true) {\n      _enableRowLoader(rowData);\n\n      setStateText(_renderDescription(rowData));\n      delete rowData.isLoading;\n      getCurrentLocation();\n    } else {\n      setStateText(_renderDescription(rowData));\n\n      _onBlur();\n\n      delete rowData.isLoading;\n\n      var predefinedPlace = _getPredefinedPlace(rowData);\n\n      props.onPress(predefinedPlace, predefinedPlace);\n    }\n  };\n\n  var _enableRowLoader = function _enableRowLoader(rowData) {\n    var rows = buildRowsFromResults(_results);\n\n    for (var i = 0; i < rows.length; i++) {\n      if (rows[i].place_id === rowData.place_id || rows[i].isCurrentLocation === true && rowData.isCurrentLocation === true) {\n        rows[i].isLoading = true;\n        setDataSource(rows);\n        break;\n      }\n    }\n  };\n\n  var _disableRowLoaders = function _disableRowLoaders() {\n    for (var i = 0; i < _results.length; i++) {\n      if (_results[i].isLoading === true) {\n        _results[i].isLoading = false;\n      }\n    }\n\n    setDataSource(buildRowsFromResults(_results));\n  };\n\n  var _getPredefinedPlace = function _getPredefinedPlace(rowData) {\n    if (rowData.isPredefinedPlace !== true) {\n      return rowData;\n    }\n\n    for (var i = 0; i < props.predefinedPlaces.length; i++) {\n      if (props.predefinedPlaces[i].description === rowData.description) {\n        return props.predefinedPlaces[i];\n      }\n    }\n\n    return rowData;\n  };\n\n  var _filterResultsByTypes = function _filterResultsByTypes(unfilteredResults, types) {\n    if (types.length === 0) return unfilteredResults;\n    var results = [];\n\n    for (var i = 0; i < unfilteredResults.length; i++) {\n      var found = false;\n\n      for (var j = 0; j < types.length; j++) {\n        if (unfilteredResults[i].types.indexOf(types[j]) !== -1) {\n          found = true;\n          break;\n        }\n      }\n\n      if (found === true) {\n        results.push(unfilteredResults[i]);\n      }\n    }\n\n    return results;\n  };\n\n  var _requestNearby = function _requestNearby(latitude, longitude) {\n    _abortRequests();\n\n    if (latitude !== undefined && longitude !== undefined && latitude !== null && longitude !== null) {\n      var request = new XMLHttpRequest();\n\n      _requests.push(request);\n\n      request.timeout = props.timeout;\n      request.ontimeout = props.onTimeout;\n\n      request.onreadystatechange = function () {\n        if (request.readyState !== 4) {\n          return;\n        }\n\n        if (request.status === 200) {\n          var responseJSON = JSON.parse(request.responseText);\n\n          _disableRowLoaders();\n\n          if (typeof responseJSON.results !== 'undefined') {\n            var results = [];\n\n            if (props.nearbyPlacesAPI === 'GoogleReverseGeocoding') {\n              results = _filterResultsByTypes(responseJSON.results, props.filterReverseGeocodingByTypes);\n            } else {\n              results = responseJSON.results;\n            }\n\n            setDataSource(buildRowsFromResults(results));\n          }\n\n          if (typeof responseJSON.error_message !== 'undefined') {\n            if (!props.onFail) console.warn('google places autocomplete: ' + responseJSON.error_message);else {\n              props.onFail(responseJSON.error_message);\n            }\n          }\n        } else {}\n      };\n\n      var requestUrl = '';\n\n      if (props.nearbyPlacesAPI === 'GoogleReverseGeocoding') {\n        requestUrl = url + \"/geocode/json?\" + _qs.default.stringify((0, _extends2.default)({\n          latlng: latitude + ',' + longitude,\n          key: props.query.key\n        }, props.GoogleReverseGeocodingQuery));\n      } else {\n        requestUrl = url + \"/place/nearbysearch/json?\" + _qs.default.stringify((0, _extends2.default)({\n          location: latitude + ',' + longitude,\n          key: props.query.key\n        }, props.GooglePlacesSearchQuery));\n      }\n\n      request.open('GET', requestUrl);\n      request.withCredentials = requestShouldUseWithCredentials();\n      request.send();\n    } else {\n      _results = [];\n      setDataSource(buildRowsFromResults([]));\n    }\n  };\n\n  var _request = function _request(text) {\n    _abortRequests();\n\n    if (supportedPlatform() && text && text.length >= props.minLength) {\n      var request = new XMLHttpRequest();\n\n      _requests.push(request);\n\n      request.timeout = props.timeout;\n      request.ontimeout = props.onTimeout;\n\n      request.onreadystatechange = function () {\n        if (request.readyState !== 4) {\n          return;\n        }\n\n        if (request.status === 200) {\n          var responseJSON = JSON.parse(request.responseText);\n\n          if (typeof responseJSON.predictions !== 'undefined') {\n            var results = props.nearbyPlacesAPI === 'GoogleReverseGeocoding' ? _filterResultsByTypes(responseJSON.predictions, props.filterReverseGeocodingByTypes) : responseJSON.predictions;\n            _results = results;\n            setDataSource(buildRowsFromResults(results));\n          }\n\n          if (typeof responseJSON.error_message !== 'undefined') {\n            if (!props.onFail) console.warn('google places autocomplete: ' + responseJSON.error_message);else {\n              props.onFail(responseJSON.error_message);\n            }\n          }\n        } else {}\n      };\n\n      if (props.preProcess) {\n        setStateText(props.preProcess(text));\n      }\n\n      request.open('GET', url + \"/place/autocomplete/json?&input=\" + encodeURIComponent(text) + '&' + _qs.default.stringify(props.query));\n      request.withCredentials = requestShouldUseWithCredentials();\n      request.send();\n    } else {\n      _results = [];\n      setDataSource(buildRowsFromResults([]));\n    }\n  };\n\n  var debounceData = (0, _react.useMemo)(function () {\n    return (0, _lodash.default)(_request, props.debounce);\n  }, []);\n\n  var _onChangeText = function _onChangeText(text) {\n    setStateText(text);\n    debounceData(text);\n  };\n\n  var _handleChangeText = function _handleChangeText(text) {\n    var _props$textInputProps;\n\n    _onChangeText(text);\n\n    var onChangeText = props == null ? void 0 : (_props$textInputProps = props.textInputProps) == null ? void 0 : _props$textInputProps.onChangeText;\n\n    if (onChangeText) {\n      onChangeText(text);\n    }\n  };\n\n  var _getRowLoader = function _getRowLoader() {\n    return _react.default.createElement(_reactNative.ActivityIndicator, {\n      animating: true,\n      size: \"small\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 12\n      }\n    });\n  };\n\n  var _renderRowData = function _renderRowData(rowData, index) {\n    if (props.renderRow) {\n      return props.renderRow(rowData, index);\n    }\n\n    return _react.default.createElement(_reactNative.Text, {\n      style: [props.suppressDefaultStyles ? {} : defaultStyles.description, props.styles.description, rowData.isPredefinedPlace ? props.styles.predefinedPlacesDescription : {}],\n      numberOfLines: props.numberOfLines,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 7\n      }\n    }, _renderDescription(rowData));\n  };\n\n  var _renderDescription = function _renderDescription(rowData) {\n    if (props.renderDescription) {\n      return props.renderDescription(rowData);\n    }\n\n    return rowData.description || rowData.formatted_address || rowData.name;\n  };\n\n  var _renderLoader = function _renderLoader(rowData) {\n    if (rowData.isLoading === true) {\n      return _react.default.createElement(_reactNative.View, {\n        style: [props.suppressDefaultStyles ? {} : defaultStyles.loader, props.styles.loader],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 9\n        }\n      }, _getRowLoader());\n    }\n\n    return null;\n  };\n\n  var _renderRow = function _renderRow() {\n    var rowData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var index = arguments.length > 1 ? arguments[1] : undefined;\n    return _react.default.createElement(_reactNative.ScrollView, {\n      contentContainerStyle: props.isRowScrollable ? {\n        minWidth: '100%'\n      } : {\n        width: '100%'\n      },\n      scrollEnabled: props.isRowScrollable,\n      keyboardShouldPersistTaps: props.keyboardShouldPersistTaps,\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      showsVerticalScrollIndicator: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 7\n      }\n    }, _react.default.createElement(_reactNative.TouchableHighlight, {\n      style: props.isRowScrollable ? {\n        minWidth: '100%'\n      } : {\n        width: '100%'\n      },\n      onPress: function onPress() {\n        return _onPress(rowData);\n      },\n      underlayColor: props.listUnderlayColor || '#c8c7cc',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: [props.suppressDefaultStyles ? {} : defaultStyles.row, props.styles.row, rowData.isPredefinedPlace ? props.styles.specialItemRow : {}],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }\n    }, _renderLoader(rowData), _renderRowData(rowData, index))));\n  };\n\n  var _renderSeparator = function _renderSeparator(sectionID, rowID) {\n    if (rowID === dataSource.length - 1) {\n      return null;\n    }\n\n    return _react.default.createElement(_reactNative.View, {\n      key: sectionID + \"-\" + rowID,\n      style: [props.suppressDefaultStyles ? {} : defaultStyles.separator, props.styles.separator],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var isNewFocusInAutocompleteResultList = function isNewFocusInAutocompleteResultList(_ref) {\n    var relatedTarget = _ref.relatedTarget,\n        currentTarget = _ref.currentTarget;\n    if (!relatedTarget) return false;\n    var node = relatedTarget.parentNode;\n\n    while (node) {\n      if (node.id === 'result-list-id') return true;\n      node = node.parentNode;\n    }\n\n    return false;\n  };\n\n  var _onBlur = function _onBlur(e) {\n    var _inputRef$current;\n\n    if (e && isNewFocusInAutocompleteResultList(e)) return;\n    setListViewDisplayed(false);\n    inputRef == null ? void 0 : (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.blur();\n  };\n\n  var _onFocus = function _onFocus() {\n    return setListViewDisplayed(true);\n  };\n\n  var _renderPoweredLogo = function _renderPoweredLogo() {\n    if (!_shouldShowPoweredLogo()) {\n      return null;\n    }\n\n    return _react.default.createElement(_reactNative.View, {\n      style: [props.suppressDefaultStyles ? {} : defaultStyles.row, defaultStyles.poweredContainer, props.styles.poweredContainer],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 7\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      style: [props.suppressDefaultStyles ? {} : defaultStyles.powered, props.styles.powered],\n      resizeMode: \"contain\",\n      source: require('./images/powered_by_google_on_white.png'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var _shouldShowPoweredLogo = function _shouldShowPoweredLogo() {\n    if (!props.enablePoweredByContainer || dataSource.length === 0) {\n      return false;\n    }\n\n    for (var i = 0; i < dataSource.length; i++) {\n      var row = dataSource[i];\n\n      if (!row.hasOwnProperty('isCurrentLocation') && !row.hasOwnProperty('isPredefinedPlace')) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var _renderLeftButton = function _renderLeftButton() {\n    if (props.renderLeftButton) {\n      return props.renderLeftButton();\n    }\n  };\n\n  var _renderRightButton = function _renderRightButton() {\n    if (props.renderRightButton) {\n      return props.renderRightButton();\n    }\n  };\n\n  var _getFlatList = function _getFlatList() {\n    var keyGenerator = function keyGenerator() {\n      return Math.random().toString(36).substr(2, 10);\n    };\n\n    if (supportedPlatform() && (stateText !== '' || props.predefinedPlaces.length > 0 || props.currentLocation === true) && listViewDisplayed === true) {\n      return _react.default.createElement(_reactNative.FlatList, (0, _extends2.default)({\n        nativeID: \"result-list-id\",\n        scrollEnabled: !props.disableScroll,\n        style: [props.suppressDefaultStyles ? {} : defaultStyles.listView, props.styles.listView],\n        data: dataSource,\n        keyExtractor: keyGenerator,\n        extraData: [dataSource, props],\n        ItemSeparatorComponent: _renderSeparator,\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item,\n              index = _ref2.index;\n          return _renderRow(item, index);\n        },\n        ListEmptyComponent: stateText.length > props.minLength && props.listEmptyComponent,\n        ListHeaderComponent: props.renderHeaderComponent && props.renderHeaderComponent(stateText),\n        ListFooterComponent: _renderPoweredLogo\n      }, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 9\n        }\n      }));\n    }\n\n    return null;\n  };\n\n  var _props$textInputProps2 = props.textInputProps,\n      onFocus = _props$textInputProps2.onFocus,\n      onBlur = _props$textInputProps2.onBlur,\n      onChangeText = _props$textInputProps2.onChangeText,\n      clearButtonMode = _props$textInputProps2.clearButtonMode,\n      InputComp = _props$textInputProps2.InputComp,\n      userProps = (0, _objectWithoutProperties2.default)(_props$textInputProps2, [\"onFocus\", \"onBlur\", \"onChangeText\", \"clearButtonMode\", \"InputComp\"]);\n  var TextInputComp = InputComp || _reactNative.TextInput;\n  return _react.default.createElement(_reactNative.View, {\n    style: [props.suppressDefaultStyles ? {} : defaultStyles.container, props.styles.container],\n    pointerEvents: \"box-none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 5\n    }\n  }, !props.textInputHide && _react.default.createElement(_reactNative.View, {\n    style: [props.suppressDefaultStyles ? {} : defaultStyles.textInputContainer, props.styles.textInputContainer],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 9\n    }\n  }, _renderLeftButton(), _react.default.createElement(TextInputComp, (0, _extends2.default)({\n    ref: inputRef,\n    style: [props.suppressDefaultStyles ? {} : defaultStyles.textInput, props.styles.textInput],\n    value: stateText,\n    placeholder: props.placeholder,\n    onFocus: onFocus ? function () {\n      _onFocus();\n\n      onFocus();\n    } : _onFocus,\n    onBlur: onBlur ? function (e) {\n      _onBlur(e);\n\n      onBlur();\n    } : _onBlur,\n    clearButtonMode: clearButtonMode || 'while-editing',\n    onChangeText: _handleChangeText\n  }, userProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 11\n    }\n  })), _renderRightButton()), _getFlatList(), props.children);\n});\nexports.GooglePlacesAutocomplete = GooglePlacesAutocomplete;\nGooglePlacesAutocomplete.propTypes = {\n  autoFillOnNotFound: _propTypes.default.bool,\n  currentLocation: _propTypes.default.bool,\n  currentLocationLabel: _propTypes.default.string,\n  debounce: _propTypes.default.number,\n  disableScroll: _propTypes.default.bool,\n  enableHighAccuracyLocation: _propTypes.default.bool,\n  enablePoweredByContainer: _propTypes.default.bool,\n  fetchDetails: _propTypes.default.bool,\n  filterReverseGeocodingByTypes: _propTypes.default.array,\n  GooglePlacesDetailsQuery: _propTypes.default.object,\n  GooglePlacesSearchQuery: _propTypes.default.object,\n  GoogleReverseGeocodingQuery: _propTypes.default.object,\n  isRowScrollable: _propTypes.default.bool,\n  keyboardShouldPersistTaps: _propTypes.default.oneOf(['never', 'always', 'handled']),\n  listEmptyComponent: _propTypes.default.func,\n  listUnderlayColor: _propTypes.default.string,\n  listViewDisplayed: _propTypes.default.oneOf(['auto', _propTypes.default.bool]),\n  minLength: _propTypes.default.number,\n  nearbyPlacesAPI: _propTypes.default.string,\n  numberOfLines: _propTypes.default.number,\n  onFail: _propTypes.default.func,\n  onNotFound: _propTypes.default.func,\n  onPress: _propTypes.default.func,\n  onTimeout: _propTypes.default.func,\n  placeholder: _propTypes.default.string,\n  predefinedPlaces: _propTypes.default.array,\n  predefinedPlacesAlwaysVisible: _propTypes.default.bool,\n  preProcess: _propTypes.default.func,\n  query: _propTypes.default.object,\n  renderDescription: _propTypes.default.func,\n  renderHeaderComponent: _propTypes.default.func,\n  renderLeftButton: _propTypes.default.func,\n  renderRightButton: _propTypes.default.func,\n  renderRow: _propTypes.default.func,\n  requestUrl: _propTypes.default.shape({\n    url: _propTypes.default.string,\n    useOnPlatform: _propTypes.default.oneOf(['web', 'all'])\n  }),\n  styles: _propTypes.default.object,\n  suppressDefaultStyles: _propTypes.default.bool,\n  textInputHide: _propTypes.default.bool,\n  textInputProps: _propTypes.default.object,\n  timeout: _propTypes.default.number\n};\nGooglePlacesAutocomplete.defaultProps = {\n  autoFillOnNotFound: false,\n  currentLocation: false,\n  currentLocationLabel: 'Current location',\n  debounce: 0,\n  disableScroll: false,\n  enableHighAccuracyLocation: true,\n  enablePoweredByContainer: true,\n  fetchDetails: false,\n  filterReverseGeocodingByTypes: [],\n  GooglePlacesDetailsQuery: {},\n  GooglePlacesSearchQuery: {\n    rankby: 'distance',\n    type: 'restaurant'\n  },\n  GoogleReverseGeocodingQuery: {},\n  isRowScrollable: true,\n  keyboardShouldPersistTaps: 'always',\n  listUnderlayColor: '#c8c7cc',\n  listViewDisplayed: 'auto',\n  minLength: 0,\n  nearbyPlacesAPI: 'GooglePlacesSearch',\n  numberOfLines: 1,\n  onFail: function onFail() {},\n  onNotFound: function onNotFound() {},\n  onPress: function onPress() {},\n  onTimeout: function onTimeout() {\n    return console.warn('google places autocomplete: request timeout');\n  },\n  placeholder: '',\n  predefinedPlaces: [],\n  predefinedPlacesAlwaysVisible: false,\n  query: {\n    key: 'missing api key',\n    language: 'en',\n    types: 'geocode'\n  },\n  styles: {},\n  suppressDefaultStyles: false,\n  textInputHide: false,\n  textInputProps: {},\n  timeout: 20000\n};\nvar _default = {\n  GooglePlacesAutocomplete: GooglePlacesAutocomplete\n};\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Stanley/Desktop/AwesomeProject/node_modules/react-native-google-places-autocomplete/GooglePlacesAutocomplete.js"],"names":["defaultStyles","container","flex","textInputContainer","flexDirection","textInput","backgroundColor","height","borderRadius","paddingVertical","paddingHorizontal","fontSize","marginBottom","listView","row","padding","minHeight","loader","justifyContent","description","separator","poweredContainer","alignItems","borderBottomRightRadius","borderBottomLeftRadius","borderColor","borderTopWidth","powered","GooglePlacesAutocomplete","props","ref","_results","_requests","hasNavigator","navigator","geolocation","console","warn","buildRowsFromResults","results","res","length","predefinedPlacesAlwaysVisible","predefinedPlaces","filter","place","currentLocation","unshift","currentLocationLabel","isCurrentLocation","map","isPredefinedPlace","getRequestUrl","requestUrl","useOnPlatform","url","Platform","select","web","default","stateText","setStateText","dataSource","setDataSource","listViewDisplayed","setListViewDisplayed","inputRef","_handleChangeText","_abortRequests","setAddressText","address","getAddressText","blur","current","focus","isFocused","clear","requestShouldUseWithCredentials","i","abort","supportedPlatform","OS","getCurrentLocation","options","enableHighAccuracy","timeout","maximumAge","enableHighAccuracyLocation","getCurrentPosition","position","nearbyPlacesAPI","geometry","location","lat","coords","latitude","lng","longitude","_disableRowLoaders","onPress","_requestNearby","error","message","_onPress","rowData","fetchDetails","isLoading","Keyboard","dismiss","_enableRowLoader","request","XMLHttpRequest","push","ontimeout","onTimeout","onreadystatechange","readyState","status","responseJSON","JSON","parse","responseText","details","result","_onBlur","_renderDescription","autoFillOnNotFound","onNotFound","onFail","open","Qs","stringify","key","query","placeid","place_id","language","GooglePlacesDetailsQuery","withCredentials","send","predefinedPlace","_getPredefinedPlace","rows","_filterResultsByTypes","unfilteredResults","types","found","j","indexOf","undefined","filterReverseGeocodingByTypes","error_message","latlng","GoogleReverseGeocodingQuery","GooglePlacesSearchQuery","_request","text","minLength","predictions","preProcess","encodeURIComponent","debounceData","debounce","_onChangeText","onChangeText","textInputProps","_getRowLoader","_renderRowData","index","renderRow","suppressDefaultStyles","styles","predefinedPlacesDescription","numberOfLines","renderDescription","formatted_address","name","_renderLoader","_renderRow","isRowScrollable","minWidth","width","keyboardShouldPersistTaps","listUnderlayColor","specialItemRow","_renderSeparator","sectionID","rowID","isNewFocusInAutocompleteResultList","relatedTarget","currentTarget","node","parentNode","id","e","_onFocus","_renderPoweredLogo","_shouldShowPoweredLogo","require","enablePoweredByContainer","hasOwnProperty","_renderLeftButton","renderLeftButton","_renderRightButton","renderRightButton","_getFlatList","keyGenerator","Math","random","toString","substr","disableScroll","item","listEmptyComponent","renderHeaderComponent","onFocus","onBlur","clearButtonMode","InputComp","userProps","TextInputComp","TextInput","textInputHide","placeholder","children","propTypes","PropTypes","bool","string","number","array","object","oneOf","func","shape","defaultProps","rankby","type"],"mappings":"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","sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport debounce from 'lodash.debounce';\nimport PropTypes from 'prop-types';\nimport Qs from 'qs';\nimport React, {\n  forwardRef,\n  useMemo,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  ActivityIndicator,\n  FlatList,\n  Image,\n  Keyboard,\n  Platform,\n  ScrollView,\n  Text,\n  TextInput,\n  TouchableHighlight,\n  View,\n} from 'react-native';\n\nconst defaultStyles = {\n  container: {\n    flex: 1,\n  },\n  textInputContainer: {\n    flexDirection: 'row',\n  },\n  textInput: {\n    backgroundColor: '#FFFFFF',\n    height: 44,\n    borderRadius: 5,\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    fontSize: 15,\n    flex: 1,\n    marginBottom: 5,\n  },\n  listView: {},\n  row: {\n    backgroundColor: '#FFFFFF',\n    padding: 13,\n    minHeight: 44,\n    flexDirection: 'row',\n  },\n  loader: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    height: 20,\n  },\n  description: {},\n  separator: {\n    height: 0.5,\n    backgroundColor: '#c8c7cc',\n  },\n  poweredContainer: {\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    borderBottomRightRadius: 5,\n    borderBottomLeftRadius: 5,\n    borderColor: '#c8c7cc',\n    borderTopWidth: 0.5,\n  },\n  powered: {},\n};\n\nexport const GooglePlacesAutocomplete = forwardRef((props, ref) => {\n  let _results = [];\n  let _requests = [];\n\n  const hasNavigator = () => {\n    if (navigator?.geolocation) {\n      return true;\n    } else {\n      console.warn(\n        'If you are using React Native v0.60.0+ you must follow these instructions to enable currentLocation: https://git.io/Jf4AR',\n      );\n      return false;\n    }\n  };\n\n  const buildRowsFromResults = (results) => {\n    let res = [];\n\n    if (results.length === 0 || props.predefinedPlacesAlwaysVisible === true) {\n      res = [\n        ...props.predefinedPlaces.filter((place) => place?.description.length),\n      ];\n\n      if (props.currentLocation === true && hasNavigator()) {\n        res.unshift({\n          description: props.currentLocationLabel,\n          isCurrentLocation: true,\n        });\n      }\n    }\n\n    res = res.map((place) => ({\n      ...place,\n      isPredefinedPlace: true,\n    }));\n\n    return [...res, ...results];\n  };\n\n  const getRequestUrl = (requestUrl) => {\n    if (requestUrl) {\n      if (requestUrl.useOnPlatform === 'all') {\n        return requestUrl.url;\n      }\n      if (requestUrl.useOnPlatform === 'web') {\n        return Platform.select({\n          web: requestUrl.url,\n          default: 'https://maps.googleapis.com/maps/api',\n        });\n      }\n    } else {\n      return 'https://maps.googleapis.com/maps/api';\n    }\n  };\n\n  const [stateText, setStateText] = useState('');\n  const [dataSource, setDataSource] = useState(buildRowsFromResults([]));\n  const [listViewDisplayed, setListViewDisplayed] = useState(\n    props.listViewDisplayed === 'auto' ? false : props.listViewDisplayed,\n  );\n  const [url] = useState(getRequestUrl(props.requestUrl));\n\n  const inputRef = useRef();\n\n  useEffect(() => {\n    // This will load the default value's search results after the view has\n    // been rendered\n    _handleChangeText(stateText);\n    return () => {\n      _abortRequests();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useImperativeHandle(ref, () => ({\n    setAddressText: (address) => {\n      setStateText(address);\n    },\n    getAddressText: () => stateText,\n    blur: () => inputRef.current.blur(),\n    focus: () => inputRef.current.focus(),\n    isFocused: () => inputRef.current.isFocused(),\n    clear: () => inputRef.current.clear(),\n  }));\n\n  const requestShouldUseWithCredentials = () =>\n    url === 'https://maps.googleapis.com/maps/api';\n\n  const _abortRequests = () => {\n    _requests.map((i) => i.abort());\n    _requests = [];\n  };\n\n  const supportedPlatform = () => {\n    if (Platform.OS === 'web' && !props.requestUrl) {\n      console.warn(\n        'This library cannot be used for the web unless you specify the requestUrl prop. See https://git.io/JflFv for more for details.',\n      );\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  const getCurrentLocation = () => {\n    let options = {\n      enableHighAccuracy: false,\n      timeout: 20000,\n      maximumAge: 1000,\n    };\n\n    if (props.enableHighAccuracyLocation && Platform.OS === 'android') {\n      options = {\n        enableHighAccuracy: true,\n        timeout: 20000,\n      };\n    }\n    const getCurrentPosition =\n      navigator.geolocation.getCurrentPosition ||\n      navigator.geolocation.default.getCurrentPosition;\n\n    getCurrentPosition &&\n      getCurrentPosition(\n        (position) => {\n          if (props.nearbyPlacesAPI === 'None') {\n            let currentLocation = {\n              description: props.currentLocationLabel,\n              geometry: {\n                location: {\n                  lat: position.coords.latitude,\n                  lng: position.coords.longitude,\n                },\n              },\n            };\n\n            _disableRowLoaders();\n            props.onPress(currentLocation, currentLocation);\n          } else {\n            _requestNearby(position.coords.latitude, position.coords.longitude);\n          }\n        },\n        (error) => {\n          _disableRowLoaders();\n          console.error(error.message);\n        },\n        options,\n      );\n  };\n\n  const _onPress = (rowData) => {\n    if (rowData.isPredefinedPlace !== true && props.fetchDetails === true) {\n      if (rowData.isLoading === true) {\n        // already requesting\n        return;\n      }\n\n      Keyboard.dismiss();\n\n      _abortRequests();\n\n      // display loader\n      _enableRowLoader(rowData);\n\n      // fetch details\n      const request = new XMLHttpRequest();\n      _requests.push(request);\n      request.timeout = props.timeout;\n      request.ontimeout = props.onTimeout;\n      request.onreadystatechange = () => {\n        if (request.readyState !== 4) return;\n\n        if (request.status === 200) {\n          const responseJSON = JSON.parse(request.responseText);\n\n          if (responseJSON.status === 'OK') {\n            // if (_isMounted === true) {\n            const details = responseJSON.result;\n            _disableRowLoaders();\n            _onBlur();\n\n            setStateText(_renderDescription(rowData));\n\n            delete rowData.isLoading;\n            props.onPress(rowData, details);\n            // }\n          } else {\n            _disableRowLoaders();\n\n            if (props.autoFillOnNotFound) {\n              setStateText(_renderDescription(rowData));\n              delete rowData.isLoading;\n            }\n\n            if (!props.onNotFound) {\n              console.warn(\n                'google places autocomplete: ' + responseJSON.status,\n              );\n            } else {\n              props.onNotFound(responseJSON);\n            }\n          }\n        } else {\n          _disableRowLoaders();\n\n          if (!props.onFail) {\n            console.warn(\n              'google places autocomplete: request could not be completed or has been aborted',\n            );\n          } else {\n            props.onFail('request could not be completed or has been aborted');\n          }\n        }\n      };\n\n      request.open(\n        'GET',\n        `${url}/place/details/json?` +\n          Qs.stringify({\n            key: props.query.key,\n            placeid: rowData.place_id,\n            language: props.query.language,\n            ...props.GooglePlacesDetailsQuery,\n          }),\n      );\n\n      request.withCredentials = requestShouldUseWithCredentials();\n\n      request.send();\n    } else if (rowData.isCurrentLocation === true) {\n      // display loader\n      _enableRowLoader(rowData);\n\n      setStateText(_renderDescription(rowData));\n\n      delete rowData.isLoading;\n      getCurrentLocation();\n    } else {\n      setStateText(_renderDescription(rowData));\n\n      _onBlur();\n      delete rowData.isLoading;\n      let predefinedPlace = _getPredefinedPlace(rowData);\n\n      // sending predefinedPlace as details for predefined places\n      props.onPress(predefinedPlace, predefinedPlace);\n    }\n  };\n\n  const _enableRowLoader = (rowData) => {\n    let rows = buildRowsFromResults(_results);\n    for (let i = 0; i < rows.length; i++) {\n      if (\n        rows[i].place_id === rowData.place_id ||\n        (rows[i].isCurrentLocation === true &&\n          rowData.isCurrentLocation === true)\n      ) {\n        rows[i].isLoading = true;\n        setDataSource(rows);\n        break;\n      }\n    }\n  };\n\n  const _disableRowLoaders = () => {\n    // if (_isMounted === true) {\n    for (let i = 0; i < _results.length; i++) {\n      if (_results[i].isLoading === true) {\n        _results[i].isLoading = false;\n      }\n    }\n\n    setDataSource(buildRowsFromResults(_results));\n    // }\n  };\n\n  const _getPredefinedPlace = (rowData) => {\n    if (rowData.isPredefinedPlace !== true) {\n      return rowData;\n    }\n\n    for (let i = 0; i < props.predefinedPlaces.length; i++) {\n      if (props.predefinedPlaces[i].description === rowData.description) {\n        return props.predefinedPlaces[i];\n      }\n    }\n\n    return rowData;\n  };\n\n  const _filterResultsByTypes = (unfilteredResults, types) => {\n    if (types.length === 0) return unfilteredResults;\n\n    const results = [];\n    for (let i = 0; i < unfilteredResults.length; i++) {\n      let found = false;\n\n      for (let j = 0; j < types.length; j++) {\n        if (unfilteredResults[i].types.indexOf(types[j]) !== -1) {\n          found = true;\n          break;\n        }\n      }\n\n      if (found === true) {\n        results.push(unfilteredResults[i]);\n      }\n    }\n    return results;\n  };\n\n  const _requestNearby = (latitude, longitude) => {\n    _abortRequests();\n\n    if (\n      latitude !== undefined &&\n      longitude !== undefined &&\n      latitude !== null &&\n      longitude !== null\n    ) {\n      const request = new XMLHttpRequest();\n      _requests.push(request);\n      request.timeout = props.timeout;\n      request.ontimeout = props.onTimeout;\n      request.onreadystatechange = () => {\n        if (request.readyState !== 4) {\n          return;\n        }\n\n        if (request.status === 200) {\n          const responseJSON = JSON.parse(request.responseText);\n\n          _disableRowLoaders();\n\n          if (typeof responseJSON.results !== 'undefined') {\n            // if (_isMounted === true) {\n            var results = [];\n            if (props.nearbyPlacesAPI === 'GoogleReverseGeocoding') {\n              results = _filterResultsByTypes(\n                responseJSON.results,\n                props.filterReverseGeocodingByTypes,\n              );\n            } else {\n              results = responseJSON.results;\n            }\n\n            setDataSource(buildRowsFromResults(results));\n            // }\n          }\n          if (typeof responseJSON.error_message !== 'undefined') {\n            if (!props.onFail)\n              console.warn(\n                'google places autocomplete: ' + responseJSON.error_message,\n              );\n            else {\n              props.onFail(responseJSON.error_message);\n            }\n          }\n        } else {\n          // console.warn(\"google places autocomplete: request could not be completed or has been aborted\");\n        }\n      };\n\n      let requestUrl = '';\n      if (props.nearbyPlacesAPI === 'GoogleReverseGeocoding') {\n        // your key must be allowed to use Google Maps Geocoding API\n        requestUrl =\n          `${url}/geocode/json?` +\n          Qs.stringify({\n            latlng: latitude + ',' + longitude,\n            key: props.query.key,\n            ...props.GoogleReverseGeocodingQuery,\n          });\n      } else {\n        requestUrl =\n          `${url}/place/nearbysearch/json?` +\n          Qs.stringify({\n            location: latitude + ',' + longitude,\n            key: props.query.key,\n            ...props.GooglePlacesSearchQuery,\n          });\n      }\n\n      request.open('GET', requestUrl);\n\n      request.withCredentials = requestShouldUseWithCredentials();\n\n      request.send();\n    } else {\n      _results = [];\n      setDataSource(buildRowsFromResults([]));\n    }\n  };\n\n  const _request = (text) => {\n    _abortRequests();\n    if (supportedPlatform() && text && text.length >= props.minLength) {\n      const request = new XMLHttpRequest();\n      _requests.push(request);\n      request.timeout = props.timeout;\n      request.ontimeout = props.onTimeout;\n      request.onreadystatechange = () => {\n        if (request.readyState !== 4) {\n          return;\n        }\n\n        if (request.status === 200) {\n          const responseJSON = JSON.parse(request.responseText);\n          if (typeof responseJSON.predictions !== 'undefined') {\n            // if (_isMounted === true) {\n            const results =\n              props.nearbyPlacesAPI === 'GoogleReverseGeocoding'\n                ? _filterResultsByTypes(\n                    responseJSON.predictions,\n                    props.filterReverseGeocodingByTypes,\n                  )\n                : responseJSON.predictions;\n\n            _results = results;\n            setDataSource(buildRowsFromResults(results));\n            // }\n          }\n          if (typeof responseJSON.error_message !== 'undefined') {\n            if (!props.onFail)\n              console.warn(\n                'google places autocomplete: ' + responseJSON.error_message,\n              );\n            else {\n              props.onFail(responseJSON.error_message);\n            }\n          }\n        } else {\n          // console.warn(\"google places autocomplete: request could not be completed or has been aborted\");\n        }\n      };\n\n      if (props.preProcess) {\n        setStateText(props.preProcess(text));\n      }\n\n      request.open(\n        'GET',\n        `${url}/place/autocomplete/json?&input=` +\n          encodeURIComponent(text) +\n          '&' +\n          Qs.stringify(props.query),\n      );\n\n      request.withCredentials = requestShouldUseWithCredentials();\n\n      request.send();\n    } else {\n      _results = [];\n      setDataSource(buildRowsFromResults([]));\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounceData = useMemo(() => debounce(_request, props.debounce), []);\n\n  const _onChangeText = (text) => {\n    setStateText(text);\n    debounceData(text);\n  };\n\n  const _handleChangeText = (text) => {\n    _onChangeText(text);\n\n    const onChangeText = props?.textInputProps?.onChangeText;\n\n    if (onChangeText) {\n      onChangeText(text);\n    }\n  };\n\n  const _getRowLoader = () => {\n    return <ActivityIndicator animating={true} size='small' />;\n  };\n\n  const _renderRowData = (rowData, index) => {\n    if (props.renderRow) {\n      return props.renderRow(rowData, index);\n    }\n\n    return (\n      <Text\n        style={[\n          props.suppressDefaultStyles ? {} : defaultStyles.description,\n          props.styles.description,\n          rowData.isPredefinedPlace\n            ? props.styles.predefinedPlacesDescription\n            : {},\n        ]}\n        numberOfLines={props.numberOfLines}\n      >\n        {_renderDescription(rowData)}\n      </Text>\n    );\n  };\n\n  const _renderDescription = (rowData) => {\n    if (props.renderDescription) {\n      return props.renderDescription(rowData);\n    }\n\n    return rowData.description || rowData.formatted_address || rowData.name;\n  };\n\n  const _renderLoader = (rowData) => {\n    if (rowData.isLoading === true) {\n      return (\n        <View\n          style={[\n            props.suppressDefaultStyles ? {} : defaultStyles.loader,\n            props.styles.loader,\n          ]}\n        >\n          {_getRowLoader()}\n        </View>\n      );\n    }\n\n    return null;\n  };\n\n  const _renderRow = (rowData = {}, index) => {\n    return (\n      <ScrollView\n        contentContainerStyle={\n          props.isRowScrollable ? { minWidth: '100%' } : { width: '100%' }\n        }\n        scrollEnabled={props.isRowScrollable}\n        keyboardShouldPersistTaps={props.keyboardShouldPersistTaps}\n        horizontal={true}\n        showsHorizontalScrollIndicator={false}\n        showsVerticalScrollIndicator={false}\n      >\n        <TouchableHighlight\n          style={\n            props.isRowScrollable ? { minWidth: '100%' } : { width: '100%' }\n          }\n          onPress={() => _onPress(rowData)}\n          underlayColor={props.listUnderlayColor || '#c8c7cc'}\n        >\n          <View\n            style={[\n              props.suppressDefaultStyles ? {} : defaultStyles.row,\n              props.styles.row,\n              rowData.isPredefinedPlace ? props.styles.specialItemRow : {},\n            ]}\n          >\n            {_renderLoader(rowData)}\n            {_renderRowData(rowData, index)}\n          </View>\n        </TouchableHighlight>\n      </ScrollView>\n    );\n  };\n\n  const _renderSeparator = (sectionID, rowID) => {\n    if (rowID === dataSource.length - 1) {\n      return null;\n    }\n\n    return (\n      <View\n        key={`${sectionID}-${rowID}`}\n        style={[\n          props.suppressDefaultStyles ? {} : defaultStyles.separator,\n          props.styles.separator,\n        ]}\n      />\n    );\n  };\n\n  const isNewFocusInAutocompleteResultList = ({\n    relatedTarget,\n    currentTarget,\n  }) => {\n    if (!relatedTarget) return false;\n\n    var node = relatedTarget.parentNode;\n\n    while (node) {\n      if (node.id === 'result-list-id') return true;\n      node = node.parentNode;\n    }\n\n    return false;\n  };\n\n  const _onBlur = (e) => {\n    if (e && isNewFocusInAutocompleteResultList(e)) return;\n\n    setListViewDisplayed(false);\n    inputRef?.current?.blur();\n  };\n\n  const _onFocus = () => setListViewDisplayed(true);\n\n  const _renderPoweredLogo = () => {\n    if (!_shouldShowPoweredLogo()) {\n      return null;\n    }\n\n    return (\n      <View\n        style={[\n          props.suppressDefaultStyles ? {} : defaultStyles.row,\n          defaultStyles.poweredContainer,\n          props.styles.poweredContainer,\n        ]}\n      >\n        <Image\n          style={[\n            props.suppressDefaultStyles ? {} : defaultStyles.powered,\n            props.styles.powered,\n          ]}\n          resizeMode='contain'\n          source={require('./images/powered_by_google_on_white.png')}\n        />\n      </View>\n    );\n  };\n\n  const _shouldShowPoweredLogo = () => {\n    if (!props.enablePoweredByContainer || dataSource.length === 0) {\n      return false;\n    }\n\n    for (let i = 0; i < dataSource.length; i++) {\n      let row = dataSource[i];\n\n      if (\n        !row.hasOwnProperty('isCurrentLocation') &&\n        !row.hasOwnProperty('isPredefinedPlace')\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  const _renderLeftButton = () => {\n    if (props.renderLeftButton) {\n      return props.renderLeftButton();\n    }\n  };\n\n  const _renderRightButton = () => {\n    if (props.renderRightButton) {\n      return props.renderRightButton();\n    }\n  };\n\n  const _getFlatList = () => {\n    const keyGenerator = () => Math.random().toString(36).substr(2, 10);\n\n    if (\n      supportedPlatform() &&\n      (stateText !== '' ||\n        props.predefinedPlaces.length > 0 ||\n        props.currentLocation === true) &&\n      listViewDisplayed === true\n    ) {\n      return (\n        <FlatList\n          nativeID='result-list-id'\n          scrollEnabled={!props.disableScroll}\n          style={[\n            props.suppressDefaultStyles ? {} : defaultStyles.listView,\n            props.styles.listView,\n          ]}\n          data={dataSource}\n          keyExtractor={keyGenerator}\n          extraData={[dataSource, props]}\n          ItemSeparatorComponent={_renderSeparator}\n          renderItem={({ item, index }) => _renderRow(item, index)}\n          ListEmptyComponent={\n            stateText.length > props.minLength && props.listEmptyComponent\n          }\n          ListHeaderComponent={\n            props.renderHeaderComponent &&\n            props.renderHeaderComponent(stateText)\n          }\n          ListFooterComponent={_renderPoweredLogo}\n          {...props}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  let {\n    onFocus,\n    onBlur,\n    onChangeText, // destructuring here stops this being set after onChangeText={_handleChangeText}\n    clearButtonMode,\n    InputComp,\n    ...userProps\n  } = props.textInputProps;\n  const TextInputComp = InputComp || TextInput;\n  return (\n    <View\n      style={[\n        props.suppressDefaultStyles ? {} : defaultStyles.container,\n        props.styles.container,\n      ]}\n      pointerEvents='box-none'\n    >\n      {!props.textInputHide && (\n        <View\n          style={[\n            props.suppressDefaultStyles ? {} : defaultStyles.textInputContainer,\n            props.styles.textInputContainer,\n          ]}\n        >\n          {_renderLeftButton()}\n          <TextInputComp\n            ref={inputRef}\n            style={[\n              props.suppressDefaultStyles ? {} : defaultStyles.textInput,\n              props.styles.textInput,\n            ]}\n            value={stateText}\n            placeholder={props.placeholder}\n            onFocus={\n              onFocus\n                ? () => {\n                    _onFocus();\n                    onFocus();\n                  }\n                : _onFocus\n            }\n            onBlur={\n              onBlur\n                ? (e) => {\n                    _onBlur(e);\n                    onBlur();\n                  }\n                : _onBlur\n            }\n            clearButtonMode={clearButtonMode || 'while-editing'}\n            onChangeText={_handleChangeText}\n            {...userProps}\n          />\n          {_renderRightButton()}\n        </View>\n      )}\n      {_getFlatList()}\n      {props.children}\n    </View>\n  );\n});\n\nGooglePlacesAutocomplete.propTypes = {\n  autoFillOnNotFound: PropTypes.bool,\n  currentLocation: PropTypes.bool,\n  currentLocationLabel: PropTypes.string,\n  debounce: PropTypes.number,\n  disableScroll: PropTypes.bool,\n  enableHighAccuracyLocation: PropTypes.bool,\n  enablePoweredByContainer: PropTypes.bool,\n  fetchDetails: PropTypes.bool,\n  filterReverseGeocodingByTypes: PropTypes.array,\n  GooglePlacesDetailsQuery: PropTypes.object,\n  GooglePlacesSearchQuery: PropTypes.object,\n  GoogleReverseGeocodingQuery: PropTypes.object,\n  isRowScrollable: PropTypes.bool,\n  keyboardShouldPersistTaps: PropTypes.oneOf(['never', 'always', 'handled']),\n  listEmptyComponent: PropTypes.func,\n  listUnderlayColor: PropTypes.string,\n  listViewDisplayed: PropTypes.oneOf(['auto', PropTypes.bool]),\n  minLength: PropTypes.number,\n  nearbyPlacesAPI: PropTypes.string,\n  numberOfLines: PropTypes.number,\n  onFail: PropTypes.func,\n  onNotFound: PropTypes.func,\n  onPress: PropTypes.func,\n  onTimeout: PropTypes.func,\n  placeholder: PropTypes.string,\n  predefinedPlaces: PropTypes.array,\n  predefinedPlacesAlwaysVisible: PropTypes.bool,\n  preProcess: PropTypes.func,\n  query: PropTypes.object,\n  renderDescription: PropTypes.func,\n  renderHeaderComponent: PropTypes.func,\n  renderLeftButton: PropTypes.func,\n  renderRightButton: PropTypes.func,\n  renderRow: PropTypes.func,\n  requestUrl: PropTypes.shape({\n    url: PropTypes.string,\n    useOnPlatform: PropTypes.oneOf(['web', 'all']),\n  }),\n  styles: PropTypes.object,\n  suppressDefaultStyles: PropTypes.bool,\n  textInputHide: PropTypes.bool,\n  textInputProps: PropTypes.object,\n  timeout: PropTypes.number,\n};\n\nGooglePlacesAutocomplete.defaultProps = {\n  autoFillOnNotFound: false,\n  currentLocation: false,\n  currentLocationLabel: 'Current location',\n  debounce: 0,\n  disableScroll: false,\n  enableHighAccuracyLocation: true,\n  enablePoweredByContainer: true,\n  fetchDetails: false,\n  filterReverseGeocodingByTypes: [],\n  GooglePlacesDetailsQuery: {},\n  GooglePlacesSearchQuery: {\n    rankby: 'distance',\n    type: 'restaurant',\n  },\n  GoogleReverseGeocodingQuery: {},\n  isRowScrollable: true,\n  keyboardShouldPersistTaps: 'always',\n  listUnderlayColor: '#c8c7cc',\n  listViewDisplayed: 'auto',\n  minLength: 0,\n  nearbyPlacesAPI: 'GooglePlacesSearch',\n  numberOfLines: 1,\n  onFail: () => {},\n  onNotFound: () => {},\n  onPress: () => {},\n  onTimeout: () => console.warn('google places autocomplete: request timeout'),\n  placeholder: '',\n  predefinedPlaces: [],\n  predefinedPlacesAlwaysVisible: false,\n  query: {\n    key: 'missing api key',\n    language: 'en',\n    types: 'geocode',\n  },\n  styles: {},\n  suppressDefaultStyles: false,\n  textInputHide: false,\n  textInputProps: {},\n  timeout: 20000,\n};\n\nexport default { GooglePlacesAutocomplete };\n"]},"metadata":{},"sourceType":"script"}